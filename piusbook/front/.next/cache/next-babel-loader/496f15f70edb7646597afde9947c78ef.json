{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport produce from 'immer';\nimport { LOG_IN_REQUEST, LOG_IN_SUCCESS, LOG_IN_FAILURE, LOG_OUT_REQUEST, LOG_OUT_SUCCESS, LOG_OUT_FAILURE, SIGN_UP_REQUEST, SIGN_UP_SUCCESS, SIGN_UP_FAILURE, CHANGE_NICKNAME_REQUEST, CHANGE_NICKNAME_SUCCESS, CHANGE_NICKNAME_FAILURE, ADD_POST_TO_ME, REMOVE_POST_OF_MINE, FOLLOW_REQUEST, FOLLOW_SUCCESS, FOLLOW_FAILURE } from '../actions/index.js';\nexport const initialState = {\n  logInLoading: false,\n  logInDone: false,\n  logInError: null,\n  logOutLoading: false,\n  logOutDone: false,\n  logOutError: null,\n  signUpLoading: false,\n  signUpDone: false,\n  signUpError: null,\n  changeNicknameLoading: false,\n  changeNicknameDone: false,\n  changeNicknameError: null,\n  me: null,\n  signupData: null,\n  loginData: null\n};\n\nconst dummyUser = data => _objectSpread(_objectSpread({}, data), {}, {\n  nickname: 'pius',\n  id: 1,\n  Posts: [],\n  Followings: [{\n    nickname: 'loopy'\n  }, {\n    nickname: 'dopa'\n  }, {\n    nickname: 'apdo'\n  }],\n  Followers: [{\n    nickname: 'loopy'\n  }, {\n    nickname: 'dopa'\n  }, {\n    nickname: 'apdo'\n  }]\n});\n\nexport const loginRequestAction = data => {\n  return {\n    type: LOG_IN_REQUEST,\n    data\n  };\n};\nexport const logoutRequestAction = () => {\n  return {\n    type: LOG_OUT_REQUEST\n  };\n};\n\nconst reducer = (state = initialState, action) => {\n  return produce(state, draftState => {\n    switch (action.type) {\n      case LOG_IN_REQUEST:\n        draftState.logInLoading = true;\n        draftState.logInDone = false;\n        draftState.loginError = null;\n        break;\n\n      case LOG_IN_SUCCESS:\n        draftState.logInLoading = false;\n        draftState.logInDone = true;\n        draftState.me = dummyUser(action.data);\n        break;\n\n      case LOG_IN_FAILURE:\n        draftState.logInLoading = false;\n        draftState.logInDone = false;\n        draftState.me = null;\n        break;\n\n      case LOG_OUT_REQUEST:\n        draftState.logOutLoading = true;\n        draftState.logInDone = false;\n        draftState.me = null;\n        break;\n\n      case LOG_OUT_SUCCESS:\n        draftState.logOutLoading = false;\n        draftState.logInDone = false;\n        draftState.me = null;\n        break;\n\n      case LOG_OUT_FAILURE:\n        draftState.logOutLoading = false;\n        break;\n\n      case SIGN_UP_REQUEST:\n        draftState.signUpLoading = true;\n        draftState.signUpDone = false;\n        break;\n\n      case SIGN_UP_SUCCESS:\n        draftState.signUpLoading = false;\n        draftState.signUpDone = true;\n        break;\n\n      case SIGN_UP_FAILURE:\n        draftState.signUpError = true;\n        break;\n\n      case CHANGE_NICKNAME_REQUEST:\n        draftState.changeNicknameLoading = true;\n        draftState.changeNicknameDone = false;\n        draftState.changeNicknameError = null;\n        break;\n\n      case CHANGE_NICKNAME_SUCCESS:\n        draftState.changeNicknameLoading = false;\n        draftState.changeNicknameDone = true;\n        break;\n\n      case CHANGE_NICKNAME_FAILURE:\n        draftState.changeNicknameLoading = false;\n        draftState.changeNicknameError = action.error;\n        break;\n\n      case ADD_POST_TO_ME:\n        {\n          const newPost = {\n            id: action.data\n          };\n          draftState.me.Posts.unshift(newPost);\n          break;\n        }\n\n      case REMOVE_POST_OF_MINE:\n        {\n          draftState.me.Posts = draftState.me.Posts.filter(item => item.id !== action.data);\n          break;\n        }\n\n      case FOLLOW_REQUEST:\n        draftState.logInLoading = true;\n        draftState.logInDone = false;\n        draftState.loginError = null;\n        break;\n\n      case FOLLOW_SUCCESS:\n        draftState.logInLoading = false;\n        draftState.logInDone = true;\n        draftState.me = dummyUser(action.data);\n        break;\n\n      case FOLLOW_FAILURE:\n        draftState.logInLoading = false;\n        draftState.logInDone = false;\n        draftState.me = null;\n        break;\n\n      default:\n        break;\n    }\n  });\n};\n\nexport default reducer;","map":{"version":3,"sources":["/Users/pius712/Documents/GitHub/react-todo-list/piusbook/front/reducer/user.js"],"names":["produce","LOG_IN_REQUEST","LOG_IN_SUCCESS","LOG_IN_FAILURE","LOG_OUT_REQUEST","LOG_OUT_SUCCESS","LOG_OUT_FAILURE","SIGN_UP_REQUEST","SIGN_UP_SUCCESS","SIGN_UP_FAILURE","CHANGE_NICKNAME_REQUEST","CHANGE_NICKNAME_SUCCESS","CHANGE_NICKNAME_FAILURE","ADD_POST_TO_ME","REMOVE_POST_OF_MINE","FOLLOW_REQUEST","FOLLOW_SUCCESS","FOLLOW_FAILURE","initialState","logInLoading","logInDone","logInError","logOutLoading","logOutDone","logOutError","signUpLoading","signUpDone","signUpError","changeNicknameLoading","changeNicknameDone","changeNicknameError","me","signupData","loginData","dummyUser","data","nickname","id","Posts","Followings","Followers","loginRequestAction","type","logoutRequestAction","reducer","state","action","draftState","loginError","error","newPost","unshift","filter","item"],"mappings":"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","sourcesContent":["import produce from 'immer';\nimport {\n\tLOG_IN_REQUEST,\n\tLOG_IN_SUCCESS,\n\tLOG_IN_FAILURE,\n\tLOG_OUT_REQUEST,\n\tLOG_OUT_SUCCESS,\n\tLOG_OUT_FAILURE,\n\tSIGN_UP_REQUEST,\n\tSIGN_UP_SUCCESS,\n\tSIGN_UP_FAILURE,\n\tCHANGE_NICKNAME_REQUEST,\n\tCHANGE_NICKNAME_SUCCESS,\n\tCHANGE_NICKNAME_FAILURE,\n\tADD_POST_TO_ME,\n\tREMOVE_POST_OF_MINE,\n\tFOLLOW_REQUEST,\n\tFOLLOW_SUCCESS,\n\tFOLLOW_FAILURE,\n} from '../actions/index.js';\n\nexport const initialState = {\n\tlogInLoading: false,\n\tlogInDone: false,\n\tlogInError: null,\n\tlogOutLoading: false,\n\tlogOutDone: false,\n\tlogOutError: null,\n\tsignUpLoading: false,\n\tsignUpDone: false,\n\tsignUpError: null,\n\tchangeNicknameLoading: false,\n\tchangeNicknameDone: false,\n\tchangeNicknameError: null,\n\tme: null,\n\tsignupData: null,\n\tloginData: null,\n};\n\nconst dummyUser = data => ({\n\t...data,\n\tnickname: 'pius',\n\tid: 1,\n\tPosts: [],\n\tFollowings: [\n\t\t{\n\t\t\tnickname: 'loopy',\n\t\t},\n\t\t{\n\t\t\tnickname: 'dopa',\n\t\t},\n\t\t{\n\t\t\tnickname: 'apdo',\n\t\t},\n\t],\n\tFollowers: [\n\t\t{\n\t\t\tnickname: 'loopy',\n\t\t},\n\t\t{\n\t\t\tnickname: 'dopa',\n\t\t},\n\t\t{\n\t\t\tnickname: 'apdo',\n\t\t},\n\t],\n});\nexport const loginRequestAction = data => {\n\treturn {\n\t\ttype: LOG_IN_REQUEST,\n\t\tdata,\n\t};\n};\nexport const logoutRequestAction = () => {\n\treturn {\n\t\ttype: LOG_OUT_REQUEST,\n\t};\n};\n\nconst reducer = (state = initialState, action) => {\n\treturn produce(state, draftState => {\n\t\tswitch (action.type) {\n\t\t\tcase LOG_IN_REQUEST:\n\t\t\t\tdraftState.logInLoading = true;\n\t\t\t\tdraftState.logInDone = false;\n\t\t\t\tdraftState.loginError = null;\n\t\t\t\tbreak;\n\t\t\tcase LOG_IN_SUCCESS:\n\t\t\t\tdraftState.logInLoading = false;\n\t\t\t\tdraftState.logInDone = true;\n\t\t\t\tdraftState.me = dummyUser(action.data);\n\t\t\t\tbreak;\n\t\t\tcase LOG_IN_FAILURE:\n\t\t\t\tdraftState.logInLoading = false;\n\t\t\t\tdraftState.logInDone = false;\n\t\t\t\tdraftState.me = null;\n\t\t\t\tbreak;\n\t\t\tcase LOG_OUT_REQUEST:\n\t\t\t\tdraftState.logOutLoading = true;\n\t\t\t\tdraftState.logInDone = false;\n\t\t\t\tdraftState.me = null;\n\t\t\t\tbreak;\n\t\t\tcase LOG_OUT_SUCCESS:\n\t\t\t\tdraftState.logOutLoading = false;\n\t\t\t\tdraftState.logInDone = false;\n\t\t\t\tdraftState.me = null;\n\t\t\t\tbreak;\n\t\t\tcase LOG_OUT_FAILURE:\n\t\t\t\tdraftState.logOutLoading = false;\n\t\t\t\tbreak;\n\t\t\tcase SIGN_UP_REQUEST:\n\t\t\t\tdraftState.signUpLoading = true;\n\t\t\t\tdraftState.signUpDone = false;\n\t\t\t\tbreak;\n\t\t\tcase SIGN_UP_SUCCESS:\n\t\t\t\tdraftState.signUpLoading = false;\n\t\t\t\tdraftState.signUpDone = true;\n\t\t\t\tbreak;\n\t\t\tcase SIGN_UP_FAILURE:\n\t\t\t\tdraftState.signUpError = true;\n\t\t\t\tbreak;\n\t\t\tcase CHANGE_NICKNAME_REQUEST:\n\t\t\t\tdraftState.changeNicknameLoading = true;\n\t\t\t\tdraftState.changeNicknameDone = false;\n\t\t\t\tdraftState.changeNicknameError = null;\n\t\t\t\tbreak;\n\t\t\tcase CHANGE_NICKNAME_SUCCESS:\n\t\t\t\tdraftState.changeNicknameLoading = false;\n\t\t\t\tdraftState.changeNicknameDone = true;\n\t\t\t\tbreak;\n\t\t\tcase CHANGE_NICKNAME_FAILURE:\n\t\t\t\tdraftState.changeNicknameLoading = false;\n\t\t\t\tdraftState.changeNicknameError = action.error;\n\t\t\t\tbreak;\n\t\t\tcase ADD_POST_TO_ME: {\n\t\t\t\tconst newPost = {\n\t\t\t\t\tid: action.data,\n\t\t\t\t};\n\t\t\t\tdraftState.me.Posts.unshift(newPost);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase REMOVE_POST_OF_MINE: {\n\t\t\t\tdraftState.me.Posts = draftState.me.Posts.filter(\n\t\t\t\t\titem => item.id !== action.data,\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase FOLLOW_REQUEST:\n\t\t\t\tdraftState.logInLoading = true;\n\t\t\t\tdraftState.logInDone = false;\n\t\t\t\tdraftState.loginError = null;\n\t\t\t\tbreak;\n\t\t\tcase FOLLOW_SUCCESS:\n\t\t\t\tdraftState.logInLoading = false;\n\t\t\t\tdraftState.logInDone = true;\n\t\t\t\tdraftState.me = dummyUser(action.data);\n\t\t\t\tbreak;\n\t\t\tcase FOLLOW_FAILURE:\n\t\t\t\tdraftState.logInLoading = false;\n\t\t\t\tdraftState.logInDone = false;\n\t\t\t\tdraftState.me = null;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t});\n};\n\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}