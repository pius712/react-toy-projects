{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport produce from 'immer';\nimport { LOG_IN_REQUEST, LOG_IN_SUCCESS, LOG_IN_FAILURE, LOG_OUT_REQUEST, LOG_OUT_SUCCESS, LOG_OUT_FAILURE, SIGN_UP_REQUEST, SIGN_UP_SUCCESS, SIGN_UP_FAILURE, EDIT_NICKNAME_REQUEST, EDIT_NICKNAME_SUCCESS, EDIT_NICKNAME_FAILURE, ADD_POST_TO_ME, REMOVE_POST_OF_MINE, FOLLOW_REQUEST, FOLLOW_SUCCESS, FOLLOW_FAILURE, UNFOLLOW_REQUEST, UNFOLLOW_SUCCESS, UNFOLLOW_FAILURE, LOAD_MY_INFO_REQUEST, LOAD_MY_INFO_SUCCESS, LOAD_MY_INFO_FAILURE, LOAD_FOLLOWINGS_REQUEST, LOAD_FOLLOWINGS_SUCCESS, LOAD_FOLLOWINGS_FAILURE, LOAD_FOLLOWERS_REQUEST, LOAD_FOLLOWERS_SUCCESS, LOAD_FOLLOWERS_FAILURE, REMOVE_FOLLOWER_REQUEST, REMOVE_FOLLOWER_SUCCESS, REMOVE_FOLLOWER_FAILURE, LOAD_USER_REQUEST, LOAD_USER_SUCCESS, LOAD_USER_FAILURE } from '../actions/index.js';\nexport const initialState = {\n  logInLoading: false,\n  logInDone: false,\n  logInError: null,\n  logOutLoading: false,\n  logOutDone: false,\n  logOutError: null,\n  signUpLoading: false,\n  signUpDone: false,\n  signUpError: null,\n  editNicknameLoading: false,\n  editNicknameDone: false,\n  editNicknameError: null,\n  me: null,\n  userInfo: null,\n  signupData: null,\n  loginData: null,\n  followLoading: false,\n  followDone: false,\n  followError: null,\n  unfollowLoading: false,\n  unfollowDone: false,\n  unfollowError: null,\n  loadMyInfoLoading: false,\n  loadMyInfoDone: false,\n  loadMyInfoError: null,\n  loadFollowingsLoading: false,\n  loadFollowingsDone: false,\n  loadFollowingsError: null,\n  loadFollowersLoading: false,\n  loadFollowersDone: false,\n  loadFollowersError: null,\n  removeFollowerLoading: false,\n  removeFollowerDone: false,\n  removeFollowerError: null,\n  loadUserLoading: false,\n  // 유저 정보 가져오기 시도중\n  loadUserDone: false,\n  loadUserError: null\n};\n\nconst dummyUser = data => _objectSpread(_objectSpread({}, data), {}, {\n  nickname: 'pius',\n  id: 1,\n  Posts: [],\n  Followings: [{\n    nickname: 'loopy'\n  }, {\n    nickname: 'dopa'\n  }, {\n    nickname: 'apdo'\n  }],\n  Followers: [{\n    nickname: 'loopy'\n  }, {\n    nickname: 'dopa'\n  }, {\n    nickname: 'apdo'\n  }]\n});\n\nexport const loginRequestAction = data => {\n  return {\n    type: LOG_IN_REQUEST,\n    data\n  };\n};\nexport const logoutRequestAction = () => {\n  return {\n    type: LOG_OUT_REQUEST\n  };\n};\n\nconst reducer = (state = initialState, action) => {\n  return produce(state, draftState => {\n    switch (action.type) {\n      case LOG_IN_REQUEST:\n        draftState.logInLoading = true;\n        draftState.logInDone = false;\n        draftState.logInError = null;\n        break;\n\n      case LOG_IN_SUCCESS:\n        draftState.logInLoading = false;\n        draftState.logInDone = true;\n        draftState.me = action.data;\n        break;\n\n      case LOG_IN_FAILURE:\n        draftState.logInLoading = false;\n        draftState.logInDone = false;\n        draftState.logInError = action.data;\n        draftState.me = null;\n        break;\n      // GET /user 를 통해서 쿠기를 보내서 내 정보를 받는 것\n\n      case LOAD_MY_INFO_REQUEST:\n        draftState.loadMyInfoLoading = true;\n        draftState.loadMyInfoDone = false;\n        draftState.loadMyInfoError = null;\n        break;\n\n      case LOAD_MY_INFO_SUCCESS:\n        draftState.loadMyInfoLoading = false;\n        draftState.loadMyInfoDone = true;\n        draftState.me = action.data;\n        break;\n\n      case LOAD_MY_INFO_FAILURE:\n        draftState.loadMyInfoLoading = false;\n        draftState.loadMyInfoDone = false;\n        draftState.loadMyInfoError = action.data;\n        draftState.me = null;\n        break;\n\n      case LOG_OUT_REQUEST:\n        draftState.logOutLoading = true;\n        draftState.logInDone = false;\n        draftState.me = null;\n        break;\n\n      case LOG_OUT_SUCCESS:\n        draftState.logOutLoading = false;\n        draftState.logInDone = false;\n        draftState.me = null;\n        break;\n\n      case LOG_OUT_FAILURE:\n        draftState.logOutLoading = false;\n        draftState.logOutError = action.data;\n        break;\n\n      case SIGN_UP_REQUEST:\n        draftState.signUpLoading = true;\n        draftState.signUpDone = false;\n        break;\n\n      case SIGN_UP_SUCCESS:\n        draftState.signUpLoading = false;\n        draftState.signUpDone = true;\n        break;\n\n      case SIGN_UP_FAILURE:\n        draftState.signUpError = action.data;\n        break;\n\n      case EDIT_NICKNAME_REQUEST:\n        draftState.editNicknameLoading = true;\n        draftState.editNicknameDone = false;\n        draftState.editNicknameError = null;\n        break;\n\n      case EDIT_NICKNAME_SUCCESS:\n        draftState.editNicknameLoading = false;\n        draftState.editNicknameDone = true;\n        draftState.me.nickname = action.data.nickname;\n        break;\n\n      case EDIT_NICKNAME_FAILURE:\n        draftState.editNicknameLoading = false;\n        draftState.editNicknameError = action.error;\n        break;\n\n      case ADD_POST_TO_ME:\n        {\n          const newPost = {\n            id: action.data\n          };\n          draftState.me.Posts.unshift(newPost);\n          break;\n        }\n\n      case REMOVE_POST_OF_MINE:\n        {\n          draftState.me.Posts = draftState.me.Posts.filter(item => item.id !== action.data);\n          break;\n        }\n\n      case FOLLOW_REQUEST:\n        draftState.followLoading = true;\n        draftState.followDone = false;\n        draftState.followError = null;\n        break;\n\n      case FOLLOW_SUCCESS:\n        draftState.followLoading = false;\n        draftState.me.Followings.push({\n          id: action.data.FollowingId\n        });\n        draftState.followDone = true;\n        break;\n\n      case FOLLOW_FAILURE:\n        draftState.followLoading = false;\n        draftState.followDone = false;\n        break;\n\n      case UNFOLLOW_REQUEST:\n        draftState.unfollowLoading = true;\n        draftState.unfollowDone = false;\n        draftState.unfollowError = null;\n        break;\n\n      case UNFOLLOW_SUCCESS:\n        {\n          const idx = draftState.me.Followings.findIndex(following => following.id === action.data.FollowingId);\n          draftState.unfollowLoading = false;\n          draftState.me.Followings.splice(idx, 1);\n          draftState.unfollowDone = true;\n          break;\n        }\n\n      case UNFOLLOW_FAILURE:\n        draftState.unfollowLoading = false;\n        draftState.unfollowDone = false;\n        break;\n\n      case LOAD_FOLLOWINGS_REQUEST:\n        draftState.loadFollowingsLoading = true;\n        draftState.loadFollowingsDone = false;\n        draftState.loadFollowingsError = null;\n        break;\n      // 팔로잉 불러오기\n\n      case LOAD_FOLLOWINGS_SUCCESS:\n        draftState.loadFollowingsLoading = false;\n        draftState.loadFollowingsDone = true;\n        draftState.me.Followings = action.data;\n        break;\n\n      case LOAD_FOLLOWINGS_FAILURE:\n        draftState.loadFollowingsLoading = false;\n        draftState.loadFollowingsDone = false;\n        draftState.loadFollowingsError = action.data;\n        break;\n      // 팔로워 불러오기\n\n      case LOAD_FOLLOWERS_REQUEST:\n        draftState.loadFollowersLoading = true;\n        draftState.loadFollowersDone = false;\n        draftState.loadFollowersError = null;\n        break;\n\n      case LOAD_FOLLOWERS_SUCCESS:\n        console.log('followers', action.data);\n        draftState.loadFollowersLoading = false;\n        draftState.loadFollowersDone = true;\n        draftState.me.Followers = action.data;\n        break;\n\n      case LOAD_FOLLOWERS_FAILURE:\n        draftState.loadFollowersLoading = false;\n        draftState.loadFollowersDone = false;\n        draftState.loadFollowersError = action.data;\n        break;\n\n      case REMOVE_FOLLOWER_REQUEST:\n        draftState.removeFollowerLoading = true;\n        draftState.removeFollowerDone = false;\n        draftState.removeFollowerError = null;\n        break;\n\n      case REMOVE_FOLLOWER_SUCCESS:\n        draftState.removeFollowerDone = true;\n        draftState.removeFollowerLoading = false;\n        draftState.me.Followers = draftState.me.Followers.filter(follower => follower.id === action.data.UserId);\n        break;\n\n      case REMOVE_FOLLOWER_FAILURE:\n        draftState.removeFollowerLoading = false;\n        draftState.removeFollowerDone = false;\n        draftState.removeFollowerError = action.data;\n        break;\n\n      case LOAD_USER_REQUEST:\n        draftState.loadUserLoading = true;\n        draftState.loadUserError = null;\n        draftState.loadUserDone = false;\n        break;\n\n      case LOAD_USER_SUCCESS:\n        draftState.loadUserLoading = false;\n        draftState.userInfo = action.data;\n        draftState.loadUserDone = true;\n        break;\n\n      case LOAD_USER_FAILURE:\n        draftState.loadUserLoading = false;\n        draftState.loadUserError = action.error;\n        break;\n\n      default:\n        break;\n    }\n  });\n};\n\nexport default reducer;","map":{"version":3,"sources":["/Users/pius712/Documents/GitHub/react-todo-list/piusbook/front/reducer/user.js"],"names":["produce","LOG_IN_REQUEST","LOG_IN_SUCCESS","LOG_IN_FAILURE","LOG_OUT_REQUEST","LOG_OUT_SUCCESS","LOG_OUT_FAILURE","SIGN_UP_REQUEST","SIGN_UP_SUCCESS","SIGN_UP_FAILURE","EDIT_NICKNAME_REQUEST","EDIT_NICKNAME_SUCCESS","EDIT_NICKNAME_FAILURE","ADD_POST_TO_ME","REMOVE_POST_OF_MINE","FOLLOW_REQUEST","FOLLOW_SUCCESS","FOLLOW_FAILURE","UNFOLLOW_REQUEST","UNFOLLOW_SUCCESS","UNFOLLOW_FAILURE","LOAD_MY_INFO_REQUEST","LOAD_MY_INFO_SUCCESS","LOAD_MY_INFO_FAILURE","LOAD_FOLLOWINGS_REQUEST","LOAD_FOLLOWINGS_SUCCESS","LOAD_FOLLOWINGS_FAILURE","LOAD_FOLLOWERS_REQUEST","LOAD_FOLLOWERS_SUCCESS","LOAD_FOLLOWERS_FAILURE","REMOVE_FOLLOWER_REQUEST","REMOVE_FOLLOWER_SUCCESS","REMOVE_FOLLOWER_FAILURE","LOAD_USER_REQUEST","LOAD_USER_SUCCESS","LOAD_USER_FAILURE","initialState","logInLoading","logInDone","logInError","logOutLoading","logOutDone","logOutError","signUpLoading","signUpDone","signUpError","editNicknameLoading","editNicknameDone","editNicknameError","me","userInfo","signupData","loginData","followLoading","followDone","followError","unfollowLoading","unfollowDone","unfollowError","loadMyInfoLoading","loadMyInfoDone","loadMyInfoError","loadFollowingsLoading","loadFollowingsDone","loadFollowingsError","loadFollowersLoading","loadFollowersDone","loadFollowersError","removeFollowerLoading","removeFollowerDone","removeFollowerError","loadUserLoading","loadUserDone","loadUserError","dummyUser","data","nickname","id","Posts","Followings","Followers","loginRequestAction","type","logoutRequestAction","reducer","state","action","draftState","error","newPost","unshift","filter","item","push","FollowingId","idx","findIndex","following","splice","console","log","follower","UserId"],"mappings":"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","sourcesContent":["import produce from 'immer';\nimport {\n\tLOG_IN_REQUEST,\n\tLOG_IN_SUCCESS,\n\tLOG_IN_FAILURE,\n\tLOG_OUT_REQUEST,\n\tLOG_OUT_SUCCESS,\n\tLOG_OUT_FAILURE,\n\tSIGN_UP_REQUEST,\n\tSIGN_UP_SUCCESS,\n\tSIGN_UP_FAILURE,\n\tEDIT_NICKNAME_REQUEST,\n\tEDIT_NICKNAME_SUCCESS,\n\tEDIT_NICKNAME_FAILURE,\n\tADD_POST_TO_ME,\n\tREMOVE_POST_OF_MINE,\n\tFOLLOW_REQUEST,\n\tFOLLOW_SUCCESS,\n\tFOLLOW_FAILURE,\n\tUNFOLLOW_REQUEST,\n\tUNFOLLOW_SUCCESS,\n\tUNFOLLOW_FAILURE,\n\tLOAD_MY_INFO_REQUEST,\n\tLOAD_MY_INFO_SUCCESS,\n\tLOAD_MY_INFO_FAILURE,\n\tLOAD_FOLLOWINGS_REQUEST,\n\tLOAD_FOLLOWINGS_SUCCESS,\n\tLOAD_FOLLOWINGS_FAILURE,\n\tLOAD_FOLLOWERS_REQUEST,\n\tLOAD_FOLLOWERS_SUCCESS,\n\tLOAD_FOLLOWERS_FAILURE,\n\tREMOVE_FOLLOWER_REQUEST,\n\tREMOVE_FOLLOWER_SUCCESS,\n\tREMOVE_FOLLOWER_FAILURE,\n\tLOAD_USER_REQUEST,\n\tLOAD_USER_SUCCESS,\n\tLOAD_USER_FAILURE,\n} from '../actions/index.js';\n\nexport const initialState = {\n\tlogInLoading: false,\n\tlogInDone: false,\n\tlogInError: null,\n\tlogOutLoading: false,\n\tlogOutDone: false,\n\tlogOutError: null,\n\tsignUpLoading: false,\n\tsignUpDone: false,\n\tsignUpError: null,\n\teditNicknameLoading: false,\n\teditNicknameDone: false,\n\teditNicknameError: null,\n\tme: null,\n\tuserInfo: null,\n\tsignupData: null,\n\tloginData: null,\n\tfollowLoading: false,\n\tfollowDone: false,\n\tfollowError: null,\n\tunfollowLoading: false,\n\tunfollowDone: false,\n\tunfollowError: null,\n\tloadMyInfoLoading: false,\n\tloadMyInfoDone: false,\n\tloadMyInfoError: null,\n\tloadFollowingsLoading: false,\n\tloadFollowingsDone: false,\n\tloadFollowingsError: null,\n\tloadFollowersLoading: false,\n\tloadFollowersDone: false,\n\tloadFollowersError: null,\n\tremoveFollowerLoading: false,\n\tremoveFollowerDone: false,\n\tremoveFollowerError: null,\n\tloadUserLoading: false, // 유저 정보 가져오기 시도중\n\tloadUserDone: false,\n\tloadUserError: null,\n};\n\nconst dummyUser = data => ({\n\t...data,\n\tnickname: 'pius',\n\tid: 1,\n\tPosts: [],\n\tFollowings: [\n\t\t{\n\t\t\tnickname: 'loopy',\n\t\t},\n\t\t{\n\t\t\tnickname: 'dopa',\n\t\t},\n\t\t{\n\t\t\tnickname: 'apdo',\n\t\t},\n\t],\n\tFollowers: [\n\t\t{\n\t\t\tnickname: 'loopy',\n\t\t},\n\t\t{\n\t\t\tnickname: 'dopa',\n\t\t},\n\t\t{\n\t\t\tnickname: 'apdo',\n\t\t},\n\t],\n});\nexport const loginRequestAction = data => {\n\treturn {\n\t\ttype: LOG_IN_REQUEST,\n\t\tdata,\n\t};\n};\nexport const logoutRequestAction = () => {\n\treturn {\n\t\ttype: LOG_OUT_REQUEST,\n\t};\n};\n\nconst reducer = (state = initialState, action) => {\n\treturn produce(state, draftState => {\n\t\tswitch (action.type) {\n\t\t\tcase LOG_IN_REQUEST:\n\t\t\t\tdraftState.logInLoading = true;\n\t\t\t\tdraftState.logInDone = false;\n\t\t\t\tdraftState.logInError = null;\n\t\t\t\tbreak;\n\t\t\tcase LOG_IN_SUCCESS:\n\t\t\t\tdraftState.logInLoading = false;\n\t\t\t\tdraftState.logInDone = true;\n\t\t\t\tdraftState.me = action.data;\n\t\t\t\tbreak;\n\t\t\tcase LOG_IN_FAILURE:\n\t\t\t\tdraftState.logInLoading = false;\n\t\t\t\tdraftState.logInDone = false;\n\t\t\t\tdraftState.logInError = action.data;\n\t\t\t\tdraftState.me = null;\n\t\t\t\tbreak;\n\t\t\t// GET /user 를 통해서 쿠기를 보내서 내 정보를 받는 것\n\t\t\tcase LOAD_MY_INFO_REQUEST:\n\t\t\t\tdraftState.loadMyInfoLoading = true;\n\t\t\t\tdraftState.loadMyInfoDone = false;\n\t\t\t\tdraftState.loadMyInfoError = null;\n\t\t\t\tbreak;\n\t\t\tcase LOAD_MY_INFO_SUCCESS:\n\t\t\t\tdraftState.loadMyInfoLoading = false;\n\t\t\t\tdraftState.loadMyInfoDone = true;\n\t\t\t\tdraftState.me = action.data;\n\t\t\t\tbreak;\n\t\t\tcase LOAD_MY_INFO_FAILURE:\n\t\t\t\tdraftState.loadMyInfoLoading = false;\n\t\t\t\tdraftState.loadMyInfoDone = false;\n\t\t\t\tdraftState.loadMyInfoError = action.data;\n\t\t\t\tdraftState.me = null;\n\t\t\t\tbreak;\n\t\t\tcase LOG_OUT_REQUEST:\n\t\t\t\tdraftState.logOutLoading = true;\n\t\t\t\tdraftState.logInDone = false;\n\t\t\t\tdraftState.me = null;\n\t\t\t\tbreak;\n\t\t\tcase LOG_OUT_SUCCESS:\n\t\t\t\tdraftState.logOutLoading = false;\n\t\t\t\tdraftState.logInDone = false;\n\t\t\t\tdraftState.me = null;\n\t\t\t\tbreak;\n\t\t\tcase LOG_OUT_FAILURE:\n\t\t\t\tdraftState.logOutLoading = false;\n\t\t\t\tdraftState.logOutError = action.data;\n\t\t\t\tbreak;\n\t\t\tcase SIGN_UP_REQUEST:\n\t\t\t\tdraftState.signUpLoading = true;\n\t\t\t\tdraftState.signUpDone = false;\n\t\t\t\tbreak;\n\t\t\tcase SIGN_UP_SUCCESS:\n\t\t\t\tdraftState.signUpLoading = false;\n\t\t\t\tdraftState.signUpDone = true;\n\t\t\t\tbreak;\n\t\t\tcase SIGN_UP_FAILURE:\n\t\t\t\tdraftState.signUpError = action.data;\n\t\t\t\tbreak;\n\t\t\tcase EDIT_NICKNAME_REQUEST:\n\t\t\t\tdraftState.editNicknameLoading = true;\n\t\t\t\tdraftState.editNicknameDone = false;\n\t\t\t\tdraftState.editNicknameError = null;\n\t\t\t\tbreak;\n\t\t\tcase EDIT_NICKNAME_SUCCESS:\n\t\t\t\tdraftState.editNicknameLoading = false;\n\t\t\t\tdraftState.editNicknameDone = true;\n\t\t\t\tdraftState.me.nickname = action.data.nickname;\n\t\t\t\tbreak;\n\t\t\tcase EDIT_NICKNAME_FAILURE:\n\t\t\t\tdraftState.editNicknameLoading = false;\n\t\t\t\tdraftState.editNicknameError = action.error;\n\t\t\t\tbreak;\n\t\t\tcase ADD_POST_TO_ME: {\n\t\t\t\tconst newPost = {\n\t\t\t\t\tid: action.data,\n\t\t\t\t};\n\t\t\t\tdraftState.me.Posts.unshift(newPost);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase REMOVE_POST_OF_MINE: {\n\t\t\t\tdraftState.me.Posts = draftState.me.Posts.filter(\n\t\t\t\t\titem => item.id !== action.data,\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase FOLLOW_REQUEST:\n\t\t\t\tdraftState.followLoading = true;\n\t\t\t\tdraftState.followDone = false;\n\t\t\t\tdraftState.followError = null;\n\t\t\t\tbreak;\n\t\t\tcase FOLLOW_SUCCESS:\n\t\t\t\tdraftState.followLoading = false;\n\t\t\t\tdraftState.me.Followings.push({ id: action.data.FollowingId });\n\t\t\t\tdraftState.followDone = true;\n\t\t\t\tbreak;\n\t\t\tcase FOLLOW_FAILURE:\n\t\t\t\tdraftState.followLoading = false;\n\t\t\t\tdraftState.followDone = false;\n\t\t\t\tbreak;\n\t\t\tcase UNFOLLOW_REQUEST:\n\t\t\t\tdraftState.unfollowLoading = true;\n\t\t\t\tdraftState.unfollowDone = false;\n\t\t\t\tdraftState.unfollowError = null;\n\t\t\t\tbreak;\n\t\t\tcase UNFOLLOW_SUCCESS: {\n\t\t\t\tconst idx = draftState.me.Followings.findIndex(\n\t\t\t\t\tfollowing => following.id === action.data.FollowingId,\n\t\t\t\t);\n\t\t\t\tdraftState.unfollowLoading = false;\n\t\t\t\tdraftState.me.Followings.splice(idx, 1);\n\t\t\t\tdraftState.unfollowDone = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase UNFOLLOW_FAILURE:\n\t\t\t\tdraftState.unfollowLoading = false;\n\t\t\t\tdraftState.unfollowDone = false;\n\t\t\t\tbreak;\n\t\t\tcase LOAD_FOLLOWINGS_REQUEST:\n\t\t\t\tdraftState.loadFollowingsLoading = true;\n\t\t\t\tdraftState.loadFollowingsDone = false;\n\t\t\t\tdraftState.loadFollowingsError = null;\n\t\t\t\tbreak;\n\t\t\t// 팔로잉 불러오기\n\t\t\tcase LOAD_FOLLOWINGS_SUCCESS:\n\t\t\t\tdraftState.loadFollowingsLoading = false;\n\t\t\t\tdraftState.loadFollowingsDone = true;\n\t\t\t\tdraftState.me.Followings = action.data;\n\t\t\t\tbreak;\n\t\t\tcase LOAD_FOLLOWINGS_FAILURE:\n\t\t\t\tdraftState.loadFollowingsLoading = false;\n\t\t\t\tdraftState.loadFollowingsDone = false;\n\t\t\t\tdraftState.loadFollowingsError = action.data;\n\t\t\t\tbreak;\n\t\t\t// 팔로워 불러오기\n\t\t\tcase LOAD_FOLLOWERS_REQUEST:\n\t\t\t\tdraftState.loadFollowersLoading = true;\n\t\t\t\tdraftState.loadFollowersDone = false;\n\t\t\t\tdraftState.loadFollowersError = null;\n\t\t\t\tbreak;\n\t\t\tcase LOAD_FOLLOWERS_SUCCESS:\n\t\t\t\tconsole.log('followers', action.data);\n\t\t\t\tdraftState.loadFollowersLoading = false;\n\t\t\t\tdraftState.loadFollowersDone = true;\n\t\t\t\tdraftState.me.Followers = action.data;\n\t\t\t\tbreak;\n\t\t\tcase LOAD_FOLLOWERS_FAILURE:\n\t\t\t\tdraftState.loadFollowersLoading = false;\n\t\t\t\tdraftState.loadFollowersDone = false;\n\t\t\t\tdraftState.loadFollowersError = action.data;\n\t\t\t\tbreak;\n\t\t\tcase REMOVE_FOLLOWER_REQUEST:\n\t\t\t\tdraftState.removeFollowerLoading = true;\n\t\t\t\tdraftState.removeFollowerDone = false;\n\t\t\t\tdraftState.removeFollowerError = null;\n\t\t\t\tbreak;\n\t\t\tcase REMOVE_FOLLOWER_SUCCESS:\n\t\t\t\tdraftState.removeFollowerDone = true;\n\t\t\t\tdraftState.removeFollowerLoading = false;\n\t\t\t\tdraftState.me.Followers = draftState.me.Followers.filter(\n\t\t\t\t\tfollower => follower.id === action.data.UserId,\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase REMOVE_FOLLOWER_FAILURE:\n\t\t\t\tdraftState.removeFollowerLoading = false;\n\t\t\t\tdraftState.removeFollowerDone = false;\n\t\t\t\tdraftState.removeFollowerError = action.data;\n\t\t\t\tbreak;\n\t\t\tcase LOAD_USER_REQUEST:\n\t\t\t\tdraftState.loadUserLoading = true;\n\t\t\t\tdraftState.loadUserError = null;\n\t\t\t\tdraftState.loadUserDone = false;\n\t\t\t\tbreak;\n\t\t\tcase LOAD_USER_SUCCESS:\n\t\t\t\tdraftState.loadUserLoading = false;\n\t\t\t\tdraftState.userInfo = action.data;\n\t\t\t\tdraftState.loadUserDone = true;\n\t\t\t\tbreak;\n\t\t\tcase LOAD_USER_FAILURE:\n\t\t\t\tdraftState.loadUserLoading = false;\n\t\t\t\tdraftState.loadUserError = action.error;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t});\n};\n\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}